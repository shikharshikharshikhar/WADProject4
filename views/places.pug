doctype html 
html
    head 
        title Places with Map
        meta(name="viewport", content="width=device-width,initial-scale=1")
        script(src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js")
        link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css", rel="stylesheet", integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC",crossorigin="anonymous")
        // Leaflet CSS
        link(rel="stylesheet", href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css")
        style.
            #map-container { 
                position: relative; 
                height: 700px; 
                margin-bottom: 5rem; 
            } 
            #map { 
                position: absolute; 
                top: 0; 
                bottom: 0; 
                width: 100%; 
            }
            tr { 
                cursor: pointer; 
            }
    body 
        .container-fluid
            h1.mt-3 Places with Interactive Map

            .row
                // Left column: Form and Table
                .col-md-6
                    // Form section
                    .card.mb-4
                        .card-header
                            h4 Add New Place
                        .card-body
                            form.form
                                .mb-3 
                                    label(for="label") Label 
                                    input#label.form-control(type='text', placeholder='e.g., My Favorite Restaurant')
                                .mb-3 
                                    label(for="address") Address 
                                    input#address.form-control(type='text', placeholder='e.g., 123 Main St, New York, NY')
                                button.btn.btn-primary(type='button', onclick='addPlace()') Add Place

                    // Table section
                    .card
                        .card-header
                            h4 Saved Places
                        .card-body
                            table.table.table-striped.table-hover
                                thead.table-dark   
                                    tr  
                                        th Label 
                                        th Address 
                                        th Actions
                                tbody
                                    // Places will be added here dynamically

                // Right column: Map
                .col-md-6
                    .card
                        .card-header
                            h4 Map View
                        .card-body.p-0
                            #map-container
                                #map

        script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js", integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM", crossorigin="anonymous")
        // Leaflet JS - must come before places.js
        script(src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js")
        script(src="/places.js")
        script. 
            // Initialize everything when page loads
            document.addEventListener('DOMContentLoaded', function() {
                console.log("Page loaded, initializing...");
                loadPlaces();
            });
